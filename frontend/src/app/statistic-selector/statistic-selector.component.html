<ng-container *ngIf="(sourceIsLoading$ | async) === true; else loadingContent">
  <div class="loading-container">
    <img src="../../assets/Blue-Loading.gif" class="loading-spinner" />
  </div>
</ng-container>

<ng-template #loadingContent>
  <div
  *ngIf="displayedMetrics"
  class="flex-row align-center scrollable-content"
  style="height: 80%; gap: 1.4rem"
>
  <div
    class="statistic-category clickable-item-nohover"
    (click)="selectStatisticCategory(0)"
    [ngClass]="{ 'statistic-category-selected': selectedCategoryIndex == 0 }"
  >
    <div class="statistic-item flex-row">
      <div class="flex-row center icon-div">
        <img
          src="../../assets/icons/graph.svg"
          width="100%"
          alt="Overall Score icon"
        />
      </div>
      <div class="flex-column item-stats">
        <p>Overall Score</p>
        <p>{{ displayedMetrics.overallScore }}%</p>
      </div>
    </div>
  </div>

  <div style="width: 3px; height: 100%; background-color: #e0e0e0"></div>

  <div
    class="statistic-category clickable-item-nohover"
    (click)="selectStatisticCategory(1)"
    [ngClass]="{ 'statistic-category-selected': selectedCategoryIndex == 1 }"
  >
    <div class="statistic-item flex-row">
      <div class="flex-row center icon-div">
        <img
          src="../../assets/icons/positive.svg"
          width="100%"
          alt="Positive Icon"
        />
      </div>
      <div class="flex-column item-stats">
        <p>Positive</p>
        <p>{{ displayedMetrics.positiveScore }}%</p>
      </div>
    </div>

    <div class="statistic-item flex-row">
      <div class="flex-row center icon-div">
        <img
          src="../../assets/icons/negative.svg"
          width="100%"
          alt="Overall Score icon"
        />
      </div>
      <div class="flex-column item-stats">
        <p>Negative</p>
        <p>{{ displayedMetrics.negativeScore }}%</p>
      </div>
    </div>

    <div class="statistic-item flex-row">
      <div class="flex-row center icon-div">
        <img
          src="../../assets/icons/neutral-score.svg"
          width="100%"
          alt="Overall Score icon"
        />
      </div>
      <div class="flex-column item-stats">
        <p>Neutral</p>
        <p>{{ displayedMetrics.neutralScore }}%</p>
      </div>
    </div>
  </div>

  <div style="width: 3px; height: 100%; background-color: #e0e0e0"></div>

  <div
    class="statistic-category clickable-item-nohover"
    (click)="selectStatisticCategory(2)"
    [ngClass]="{ 'statistic-category-selected': selectedCategoryIndex == 2 }"
  >
    <div class="statistic-item flex-row">
      <div class="flex-row center icon-div">
        <img
          [src]="displayedMetrics.emotionIconUrl"
          width="100%"
          alt="Positive Icon"
        />
      </div>
      <div class="flex-column item-stats">
        <p>Emotions</p>
        <p>{{ displayedMetrics.emotion }}</p>
      </div>
    </div>
  </div>

  <div style="width: 3px; height: 100%; background-color: #e0e0e0"></div>

  <div
    class="statistic-category clickable-item-nohover"
    (click)="selectStatisticCategory(3)"
    [ngClass]="{ 'statistic-category-selected': selectedCategoryIndex == 3 }"
  >
    <div class="statistic-item flex-row">
      <div class="flex-row center icon-div">
        <img
          src="../../assets/icons/toxic.svg"
          width="100%"
          alt="Positive Icon"
        />
      </div>
      <div class="flex-column item-stats">
        <p>Toxicity</p>
        <p>{{ displayedMetrics.toxicity }}%</p>
      </div>
    </div>
  </div>
  <div style="width: 3px; height: 100%; background-color: #e0e0e0"></div>

  <div class="statistic-category">
    <div class="statistic-item flex-row">
      <div class="flex-row center icon-div">
        <img
          src="../../assets/icons/analytics.svg"
          width="100%"
          alt="Positive Icon"
        />
      </div>
      <div class="flex-column item-stats">
        <p>Analysed</p>
        <p>{{ displayedMetrics.analysedSum }} sentiments</p>
      </div>
    </div>
  </div>
  <div style="width: 3px; height: 100%; background-color: #e0e0e0"></div>


  <div class="statistic-category">
    <div class="statistic-item flex-row">
      <div class="flex-row center icon-div">
        <img
          src="../../assets/icons/calendar.svg"
          width="100%"
          alt="Positive Icon"
        />
      </div>
      <div class="flex-column item-stats">
        <p>Date Range</p>
        <p>{{ displayedMetrics.earliestDate }} - {{displayedMetrics.latestDate}}</p>
      </div>
    </div>
  </div>
</div>
  
</ng-template>

<!-- <ng-container *ngIf="sourceIsLoading$ | async as sourceIsLoading" >
  {{ sourceIsLoading }}
  <img *ngIf="sourceIsLoading" src="../../assets/Blue-Loading.gif" style="width: 40px; height: 40px;" />


</ng-container> -->