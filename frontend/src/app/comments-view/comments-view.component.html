<ng-container *ngIf="(sourceIsLoading$ | async) === true; else loadingContent">
  <div class="loading-container">
    <img src="../../assets/Blue-Loading.gif" class="loading-spinner" />
  </div>
</ng-container>

<ng-template #loadingContent>
  <div class="flex-row icon-div">
    <img
      src="../../assets/icons/comments.svg"
      width="8%"
      alt="Positive Icon"
      style="padding-right: 1rem"
    />
    <h2 style="margin-top: 0">Sample data</h2>
  </div>

  <div class="flex-column" style="gap: 1rem">
    <div class="flex-column" *ngFor="let comment of comments; let i = index">
      <div class="comment">
        <ng-container *ngIf="comment.ratings[3] == 'Non-toxic'">
          <p class="comment-text">{{ comment.comment }}</p>
        </ng-container>

        <ng-container *ngIf="comment.ratings[3] == 'Toxic' && showComment[i]">
          <p class="comment-text">{{ comment.comment }}</p>
          <p (click)="toggleShowComment(i)" class="warning-text comment-text" data-cy="hideComment">
            Hide Comment
          </p>
        </ng-container>
        <ng-container *ngIf="comment.ratings[3] == 'Toxic' && !showComment[i]">
          <div class="blur-text">
            <p>{{ comment.comment }}</p>
          </div>
          <p (click)="toggleShowComment(i)" class="warning-text comment-text" data-cy="toxicComment">
            Click to view toxic comment
          </p>
        </ng-container>
      </div>

      <div class="flex-row" style="padding-top: 10px">
        <!-- <div class="tag-container">
              <div class = "tag" [ngClass]="getRatingColor(comment.ratings[0])" *ngFor="let rating of comment.ratings">{{rating}}</div>
            </div> -->
        <div class="tag-container">
          <ng-container *ngFor="let rating of comment.ratings; let i = index">
            <div class="tag" [ngClass]="getRatingClass(i, comment.ratings[i])">
              {{ rating }}
            </div>
          </ng-container>
        </div>
      </div>
      <hr />
    </div>
  </div>
</ng-template>
