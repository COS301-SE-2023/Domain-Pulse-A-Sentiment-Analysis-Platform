\documentclass{article}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc} 
\usepackage{graphicx}
\usepackage{listings}
\usepackage{xcolor}
\definecolor{light-gray}{gray}{0.95}
\newcommand{\code}[1]{\colorbox{light-gray}{\texttt{#1}}}


\title{Technical Installation Manual}
\author{Ctrl Alt Defeat}
\date{\today} 

\begin{document}
\maketitle

\tableofcontents


\section{Introduction}
The following is a Technical Installation Manual for COS301 capstone project, Domain Pulse - A Sentiment Analysis Platform. Domain Pulse is
a system designed to fetch, analyse, aggregate, and present results of sentiment analysis on publically available data pertaining to
businesses, products, places, and more! Sources of data include (but are not limited to) Google reviews, TripAdvisor and Youtube.

This installation guide details how to setup and install the system locally. The system uses a Django backend (consisting of 5 independently deployable projects),
an Angular frontend as well as PostgreSQL and MongoDB databases. The installation of these components and the packages used within in
them, shall be explained within this manual.

Please note that the production application is a web application that is deployed to a private virtual machine acting as a web server. For
security purposes, this guide will not provide details or keys for connecting to the deployment server - instead this details local installation
of the application.

Once again, this is not the recommended approach for using the application. Instead, is it recommended that one interacts with the hosted web
application available at: www.domainpulse.app

\subsection{Hosted Web App Approach - Recommended}
In order to interact with the web app hosted at www.domainpulse.app, no configuration or installation is required. The only
prerequisites are: a modern web browser (Brave, Firefox, or Google Chrome recommended) and a stable Internet connection.


\subsection{Overview of local installation process}
The process of installing the application locally consists of the following stages, each of which is to be described in detail later in the manual:
\begin{itemize}
    \item Installation and acquisition of prerequisites
    \item Downloading and configuring application
    \item Installing project specific dependencies
    \item Running the application
\end{itemize}

\section{Prerequisites - General Software}
The following software are prerequisites for the complete installation and set-up of Domain Pulse: Python 3.8, Pipenv (any 2022 or post 2022 version), Node.js (v18 later), Angular (v14), MongoDB (Community Edition, v6 or later), PostgreSQL 12.
Of course an operating system of either Linux (Ubuntu) or Windows is required, as well as a modern web browser.

Note: The installation of the project specific dependencies and packages is detailed later in the manual.

\subsection{Operating System}
The system may be installed locally on either a Windows or Linux (Ubuntu) operating system. The following versions are most suitable
\begin{itemize}
    \item Linux (Ubuntu): v22 or later
    \item Windows: v10 or later
\end{itemize}
Note that earlier or different versions of these operating systems may successfully install and run the application, however the provided
versions are deemed to be most suitable and confirmed to work.

\subsection{Web Browser}
Any modern web browser should support the appropriate rendering of the application. The following browsers have been confirmed as suitable:
\begin{itemize}
    \item Google Chrome - Latest version
    \item Mozilla Firefox - Latest version
    \item Brave - Latest version
\end{itemize}

\subsection{Python 3.8}
\subsubsection{Linux}
The following resources commands be used for installing Python 3.8 on Linux:\\
\code{sudo apt-get update}\\
\code{sudo add-apt-repository ppa:deadsnakes/ppa -y}\\
\code{sudo apt-get update}\\
\code{sudo apt install python3.8}\\ \\
Ensure that the correct version of python is installed by running the following command:
\code{python --version}

\subsubsection{Windows}
The following resources may be used for installing Python 3.8 on Windows:
https://www.python.org/downloads/release/python-380/

\subsection{Pipenv (any 2022 or post 2022 version)}
Once Python is installed, pip will be installed along with in. To install pipenv, enter into the terminal:\\
\code{pip install pipenv}

\subsection{Node.js v18 or later}
Node.js is needed for the installation and use of Angular and can be installed
following the instructions on the following resource:\\
https://nodejs.dev/en/learn/how-to-install-nodejs/

\subsection{Angular v14}
Once Node.js is installed, Angular can be installed by entering the following command into the terminal:\\
\code{npm install -g @angular/cli}

\subsection{MongoDB (Community Edition v6 or later)}
The following resources may be used for installing MongoDB
\begin{itemize}
    \item Windows: https://www.mongodb.com/docs/manual/tutorial/install-mongodb-on-windows/
    \item Ubuntu: https://www.mongodb.com/docs/manual/tutorial/install-mongodb-on-ubuntu/
    \item MacOS: https://www.mongodb.com/docs/manual/tutorial/install-mongodb-on-os-x/
\end{itemize}

\subsection{PostgreSQL 12}
The following resource can be used for installing PostgreSQL 12
\begin{itemize}
    \item https://www.postgresql.org/download/
\end{itemize}
Important note: Ensure that, regardless of what installer is used, PostgreSQL 12 specifically is installed.\\
Once installed, the following needs to be completed to ensure that the database is ready for use:
\subsubsection*{Linux}
\begin{itemize}
    \item Log in to psql CLI using \code{sudo -u postgres psql}
    \item Create the database using \code{CREATE DATABASE profiles;}
\end{itemize}

\subsubsection*{Windows}
Note: Ensure that the PostgreSQL bin directory is added to the PATH environment variable.\\
\begin{itemize}
    \item Log in to psql CLI using \code{psql -U postgres}
    \item Create the database using \code{CREATE DATABASE profiles;}
\end{itemize}\section{Deployment and Running}
Once all previous steps have been followed and completed, and PostgreSQL and MongoDB are running, the application may be run locally. To do so,
the depolyment of the backend and frontend is done separately.
\subsection{Backend}
In terminal, navigate to the 'backend' directory. To deploy the backend, issue the following commands:\\ \code{pipenv shell}
\\Next: \code{cd scripts}\\
Finally: \code{./run-projects.sh}\\

\subsection{Frontend}
In terminal, navigate to the 'frontend' directory. To deploy the frontend, issue the following commands:\\



\section{Prerequisites - Hardware}
The following are the minimum recommended specifications\subsection{PostgreSQL 12}
The following resource can be used for installing PostgreSQL 12
\begin{itemize}
    \item https://www.postgresql.org/download/
\end{itemize}
Important note: Ensure that, regardless of what installer is used, PostgreSQL 12 specifically is installed.\\
Once installed, the following needs to be completed to ensure that the database is ready for use:
\subsubsection*{Linux}
\begin{itemize}
    \item Log in to psql CLI using \code{sudo -u postgres psql}
    \item Create the database using \code{CREATE DATABASE profiles;}
\end{itemize}

\subsubsection*{Windows}
Note: Ensure that the PostgreSQL bin directory is added to the PATH environment variable.\\
\begin{itemize}
    \item Log in to psql CLI using \code{psql -U postgres}
    \item Create the database using \code{CREATE DATABASE profiles;}
\end{itemize} required to install and run Domain Pulse locally
\begin{itemize}
    \item CPU: Intel i5 11th Gen or Ryzen equivalent recommended
    \item RAM: 8GB minimum, 16GB recommended
    \item Storage: At least 20GB free space recommended (but database size dependent on use of application)
\end{itemize}


\section{Installation}

\subsection{Cloning the repo}
The repo may be cloned locally from Github using the following command: \\
\code{git clone https://github.com/COS301-SE-2023/Domain-Pulse-A-Sentiment-Analysis-Platform.git}


\subsection{Configuring the application}


\subsection{Installing dependencies}
\subsubsection{Backend}
In terminal, navigate to the 'backend' directory. To install all necessary dependencies at the appropriate versions, issue the following
command: \\
\code{pipenv install}\\
This will install all the necessary dependencies into a local virtual environment.

Note: Some of the dependencies are fairly sizable. Depending on Internet speeds, this process may take a few minutes.

The full list of dependencies that will be installed can be found in the the file backend/Pipfile. Furthemore, to see the specific versions you may issue the CLI command:\\
\code{pipenv graph} \\
The dependencies are as follows:
\begin{itemize}
    \item coverage==7.2.6
    \item django-cors-headers==4.2.0
    \item djangorestframework-simplejwt==5.2.2
    \item mock==5.1.0
    \item nltk==3.8.1
    \item psycopg2-binary==2.9.6
    \item pymongo==4.4.0
    \item python-dotenv==1.0.0
    \item transformers==4.30.2
    \item vaderSentiment==3.3.2
\end{itemize}
Note that each dependencies may have its own sub-dependencies. These too will be installed via \code{pipenv install}

\subsubsection{Frontend}
To install the dependencies required for the frontend, navigate to th 'frontend' directory and issue the following command to install
all the necessary dependencies at the correct version: \\
\code{npm ci}\\
A list of the dependencies that will be installed (along with their appropriate versions) can be found in the file \code{package.json}


\subsection{Configuring the application for local deployment}
Domain Pulse is a web application deployed to a private virtual machine provded by our industry client. Consequently, the default
configuration of the application is set to interact with this server via SSH. For security reasons, this guide details how to configure
the application for local deployment only, and no SSH or API credential will be provided.

\subsubsection{Setting up enviroment variables}
To establish connections to local database, you will need to create an environment variable file called \code{.postgresql.env} (in the root of the project directory). The file
needs to have the following contents: \\
Similarly, you will need to create a file named \code{.env} which will contain a number of other details: \\


\subsubsection{Acquiring API Keys}
In order for the project to successfully interact with the necessary external services, one needs to acquire API keys for the following services:
\begin{itemize}
    \item Outscraper: https://outscraper.com/
    \item Youtube Data API v3: https://blog.hubspot.com/website/how-to-get-youtube-api-key
\end{itemize}


\section{Deployment and Running}
Once all previous steps have been followed and completed, and PostgreSQL and MongoDB are running, the application may be run locally. To do so,
the depolyment of the backend and frontend is done separately.
\subsection{Backend}
In terminal, navigate to the 'backend' directory. To deploy the backend, issue the following commands:\\ \code{pipenv shell}
\\Next: \code{cd scripts}\\
Finally: \code{./run-projects.sh}\\

\subsection{Frontend}
In terminal, navigate to the 'frontend' directory. To deploy the frontend, issue the following commands:\\

\end{document}
